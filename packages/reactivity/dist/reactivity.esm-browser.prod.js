function t(t,e){const n=Object.create(null),r=t.split(",");for(let t=0;t<r.length;t++)n[r[t]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}const e={},n=()=>{},r=Object.prototype.hasOwnProperty,o=(t,e)=>r.call(t,e),c=t=>"function"==typeof t,u=t=>"symbol"==typeof t,s=t=>null!==t&&"object"==typeof t,a=Object.prototype.toString;let i=!0;function l(){i=!0}function f(){i=!1}const h=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(u));function d(t){return function(e,n,r){const o=Reflect.get(e,n,r);return u(n)&&h.has(n)?o:gt(o)?o.value:(lt(e,"get",n),s(o)?t?J(o):I(o):o)}}function p(t,e,n,r){n=Y(n);const c=t[e];if(gt(c)&&!gt(n))return c.value=n,!0;const u=o(t,e),s=Reflect.set(t,e,n,r);return t===Y(r)&&(u?n!==c&&ft(t,"set",e):ft(t,"add",e)),s}function g(t,e){const n=o(t,e),r=(t[e],Reflect.deleteProperty(t,e));return r&&n&&ft(t,"delete",e),r}function y(t,e){const n=Reflect.has(t,e);return lt(t,"has",e),n}function v(t){return lt(t,"iterate"),Reflect.ownKeys(t)}const w={get:d(!1),set:p,deleteProperty:g,has:y,ownKeys:v},S={get:d(!0),set:(t,e,n,r)=>!!i||p(t,e,n,r),deleteProperty:(t,e)=>!!i||g(t,e),has:y,ownKeys:v},R=t=>s(t)?I(t):t,O=t=>s(t)?J(t):t;function b(t,e,n){t=Y(t),e=Y(e);const r=Reflect.getPrototypeOf(t);return lt(t,"get",e),n(r.get.call(t,e))}function m(t){const e=Y(this);t=Y(t);const n=Reflect.getPrototypeOf(e);return lt(e,"has",t),n.has.call(e,t)}function P(t){t=Y(t);const e=Reflect.getPrototypeOf(t);return lt(t,"iterate"),Reflect.get(e,"size",t)}function k(t){t=Y(t);const e=Y(this),n=Reflect.getPrototypeOf(this),r=n.has.call(e,t),o=n.add.call(e,t);return r||ft(e,"add",t),o}function M(t,e){e=Y(e);const n=Y(this),r=Reflect.getPrototypeOf(this),o=r.has.call(n,t),c=r.get.call(n,t),u=r.set.call(n,t,e);return e!==c&&ft(n,o?"set":"add",t),u}function W(t){const e=Y(this),n=Reflect.getPrototypeOf(this),r=n.has.call(e,t),o=(n.get&&n.get.call(e,t),n.delete.call(e,t));return r&&ft(e,"delete",t),o}function j(){const t=Y(this),e=Reflect.getPrototypeOf(this),n=0!==t.size,r=e.clear.call(t);return n&&ft(t,"clear"),r}function E(t){return function(e,n){const r=this,o=Y(r),c=Reflect.getPrototypeOf(o),u=t?O:R;return lt(o,"iterate"),c.forEach.call(o,function(t,n){return e.call(r,u(t),u(n),r)},n)}}function z(t,e){return function(...n){const r=Y(this),o=Reflect.getPrototypeOf(r),c="entries"===t||t===Symbol.iterator&&r instanceof Map,u=o[t].apply(r,n),s=e?O:R;return lt(r,"iterate"),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:c?[s(t[0]),s(t[1])]:s(t),done:e}},[Symbol.iterator](){return this}}}}function _(t,e){return function(...n){return i?"delete"!==e&&this:t.apply(this,n)}}const x={get(t){return b(this,t,R)},get size(){return P(this)},has:m,add:k,set:M,delete:W,clear:j,forEach:E(!1)},T={get(t){return b(this,t,O)},get size(){return P(this)},has:m,add:_(k,"add"),set:_(M,"set"),delete:_(W,"delete"),clear:_(j,"clear"),forEach:E(!0)};function A(t){return function(e,n,r){return e=o(t,n)&&n in e?t:e,Reflect.get(e,n,r)}}["keys","values","entries",Symbol.iterator].forEach(t=>{x[t]=z(t,!1),T[t]=z(t,!0)});const K={get:A(x)},N={get:A(T)},V=new WeakMap,C=new WeakMap,L=new WeakMap,$=new WeakMap,q=new WeakMap,B=new WeakSet,D=new WeakSet,F=new Set([Set,Map,WeakMap,WeakSet]),G=t(["Object","Array","Map","Set","WeakMap","WeakSet"].map(t=>`[object ${t}]`).join(",")),H=t=>!t._isVue&&!t._isVNode&&G((t=>a.call(t))(t))&&!D.has(t);function I(t){return q.has(t)?t:B.has(t)?J(t):Q(t,C,L,w,K)}function J(t){return L.has(t)&&(t=L.get(t)),Q(t,$,q,S,N)}function Q(t,e,n,r,o){if(!s(t))return t;let c=e.get(t);if(void 0!==c)return c;if(n.has(t))return t;if(!H(t))return t;const u=F.has(t.constructor)?o:r;return c=new Proxy(t,u),e.set(t,c),n.set(c,t),V.has(t)||V.set(t,new Map),c}function U(t){return L.has(t)||q.has(t)}function X(t){return q.has(t)}function Y(t){return L.get(t)||q.get(t)||t}function Z(t){return B.add(t),t}function tt(t){return D.add(t),t}const et=Symbol(void 0),nt=[],rt=Symbol("iterate");function ot(t,n=e){(function(t){return null!=t&&!0===t[et]})(t)&&(t=t.raw);const r=function(t,e){const n=function(...e){return function(t,e,n){if(!t.active)return e(...n);if(!nt.includes(t)){ut(t);try{return nt.push(t),e(...n)}finally{nt.pop()}}}(n,t,e)};return n[et]=!0,n.active=!0,n.raw=t,n.scheduler=e.scheduler,n.onTrack=e.onTrack,n.onTrigger=e.onTrigger,n.onStop=e.onStop,n.computed=e.computed,n.deps=[],n}(t,n);return n.lazy||r(),r}function ct(t){t.active&&(ut(t),t.onStop&&t.onStop(),t.active=!1)}function ut(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let st=!0;function at(){st=!1}function it(){st=!0}function lt(t,e,n){if(!st||0===nt.length)return;const r=nt[nt.length-1];"iterate"===e&&(n=rt);let o=V.get(t);void 0===o&&V.set(t,o=new Map);let c=o.get(n);void 0===c&&o.set(n,c=new Set),c.has(r)||(c.add(r),r.deps.push(c))}function ft(t,e,n,r){const o=V.get(t);if(void 0===o)return;const c=new Set,u=new Set;if("clear"===e)o.forEach(t=>{ht(c,u,t)});else if(void 0!==n&&ht(c,u,o.get(n)),"add"===e||"delete"===e){const e=Array.isArray(t)?"length":rt;ht(c,u,o.get(e))}const s=t=>{!function(t,e,n,r,o){void 0!==t.scheduler?t.scheduler(t):t()}(t)};u.forEach(s),c.forEach(s)}function ht(t,e,n){void 0!==n&&n.forEach(n=>{n.computed?e.add(n):t.add(n)})}const dt=t=>s(t)?I(t):t;function pt(t){if(gt(t))return t;t=dt(t);const e={_isRef:!0,get value(){return lt(e,"get",""),t},set value(n){t=dt(n),ft(e,"set","")}};return e}function gt(t){return!!t&&!0===t._isRef}function yt(t){const e={};for(const n in t)e[n]=vt(t,n);return e}function vt(t,e){return{_isRef:!0,get value(){return t[e]},set value(n){t[e]=n}}}function wt(t){const e=c(t),r=e?t:t.get,o=e?n:t.set;let u,s=!0;const a=ot(r,{lazy:!0,computed:!0,scheduler:()=>{s=!0}});return{_isRef:!0,effect:a,get value(){return s&&(u=a(),s=!1),function(t){if(0===nt.length)return;const e=nt[nt.length-1];for(let n=0;n<t.deps.length;n++){const r=t.deps[n];r.has(e)||(r.add(e),e.deps.push(r))}}(a),u},set value(t){o(t)}}}export{rt as ITERATE_KEY,wt as computed,ot as effect,U as isReactive,X as isReadonly,gt as isRef,l as lock,tt as markNonReactive,Z as markReadonly,at as pauseTracking,I as reactive,J as readonly,pt as ref,it as resumeTracking,ct as stop,Y as toRaw,yt as toRefs,f as unlock};
